<div class="sl-w-full sl-mx-auto sl-px-20 sl-pt-20 sl-pb-8" data-test="project-page" style="max-width: 1500px;"><div class="sl-elements-article"><div class="sl-flex sl-relative"><div class="sl-prose sl-markdown-viewer sl-elements-article-content sl-overflow-x-auto sl-overflow-y-auto sl-flex-1 sl-p-2"><h1 class="sl-text-5xl sl-leading-tight sl-font-prose sl-font-bold sl-text-heading" id="authentication">Authentication</h1>
<hr/>
<p>Hospitable protects our API endpoints using Personal Access Tokens, and <a href="https://tools.ietf.org/html/rfc6749" rel="noreferrer" target="_blank">OAuth 2.0</a>'s Authorization flow grants. Depending on your application use case, it might depend which authentication grant you choose to go with.</p>
<h3 class="sl-link-heading sl-text-2xl sl-leading-snug sl-font-prose sl-font-semibold sl-text-heading" id="what-authentication-should-i-use"><a class="sl-link sl-link-heading__link sl-inline-flex sl-items-center sl-text-current" href="#what-authentication-should-i-use"><div>What Authentication should I use?</div><div class="sl-link-heading__icon sl-text-base sl-ml-4 sl-text-muted"><i aria-hidden="true" class="sl-icon fal fa-link" role="img"></i></div></a></h3>
<p>There are 2 forms of authentication to use the Hospitable API. Here's a short rundown on when you'd use either:</p>
<ul>
<li><a href="#oauth-authorization-for-vendors">OAuth Authorization flow for Vendors.</a>
<ul>
<li>Like when logging into a website with Google or Twitter, Hospitable has it's own OAuth2 Authorization flow. This allows any third-party to integrate directly with Hospitable, without requiring the user to manually share credentials insecurely. This has the added bonus of being extra secure for both Hospitable users, and developers wishing to build on our platform.</li>
</ul>
</li>
<li><a href="#personal-access-tokens">Personal Access Tokens (PATs) for Personal API use.</a>
<ul>
<li>As the name suggests, typically used for Personal API access. These tokens are scoped to your Hospitable account only, and should not be shared with any third-parties. You should only use these tokens for building and testing <strong>your own</strong> Hospitable integration.</li>
</ul>
</li>
</ul>
<p>If you require any further information on which grant better suits your use case, <a href="mailto:support@hospitable.com">get in touch with support</a>.</p>
<h2 class="sl-link-heading sl-text-4xl sl-leading-tight sl-font-prose sl-font-bold sl-text-heading" id="oauth-authorization-for-vendors"><a class="sl-link sl-link-heading__link sl-inline-flex sl-items-center sl-text-current" href="#oauth-authorization-for-vendors"><div>OAuth Authorization for Vendors</div><div class="sl-link-heading__icon sl-text-base sl-ml-4 sl-text-muted"><i aria-hidden="true" class="sl-icon fal fa-link" role="img"></i></div></a></h2>
<p>If you intend on building a Hospitable integration for others, you'll need to use our OAuth2 Authorization code flow. This follows the OAuth2 standard, which you can <a href="https://www.oauth.com/oauth2-servers/access-tokens/authorization-code-request/" rel="noreferrer" target="_blank">learn more about here</a>.</p>
<h4 class="sl-link-heading sl-text-paragraph sl-leading-snug sl-font-prose sl-font-semibold sl-text-heading" id="applying-to-become-an-approved-vendor"><a class="sl-link sl-link-heading__link sl-inline-flex sl-items-center sl-text-current" href="#applying-to-become-an-approved-vendor"><div>Applying to become an Approved Vendor</div><div class="sl-link-heading__icon sl-text-base sl-ml-4 sl-text-muted"><i aria-hidden="true" class="sl-icon fal fa-link" role="img"></i></div></a></h4>
<p>To get started, you'll need to request your own Vendor client credentials <a href="https://form.typeform.com/to/n8bZPJIm" rel="noreferrer" target="_blank">via this form</a>. You'll be required to provide a:</p>
<ul>
<li>Technical point of contact</li>
<li>Name and description of your app and the planned integration with Hospitable</li>
<li>Requested scopes</li>
<li>Hosted URL for your app's logo (in square format) - .png or .jpg</li>
<li>A customer-facing description of what your app will do, this displays to the user</li>
<li>A redirection URL (this should be inside your app, where you will handle the provided OAuth authorize code)</li>
<li>A webhooks URL (where you'll receive all webhooks)</li>
</ul>
<blockquote class="sl-callout sl-w-full sl-pb-1 sl-bg-primary sl-rounded-xl" role="alert"><div class="sl-stack sl-stack--horizontal sl-stack--3 sl-flex sl-flex-row sl-items-start sl-pt-4 sl-pr-10 sl-pb-4 sl-pl-4 sl-bg-canvas-pure sl-rounded-xl sl-border-primary sl-border-2"><div class="sl-mt-px"><div data-testid="icon"><i aria-hidden="true" class="sl-icon fal fa-info-circle fa-lg" role="img" style="color: rgb(26, 171, 255);"></i></div></div><div class="sl-stack sl-flex sl-flex-1 sl-flex-col sl-items-stretch">
<p>‚ùó  We are <strong>NOT</strong> accepting applications for certain categories of vendors, including AI Chatbots!</p>
</div></div></blockquote>
<p>You can typically expect a response to your application within a few days. We may reach out for more information.</p>
<p>Once your request is approved, you will be given access to our <a href="V2/Partner-Portal.md">Partner Portal</a> where you can generate your client credentials, set redirect URLs and add webhook URLs.</p>
<hr/>
<h3 class="sl-link-heading sl-text-2xl sl-leading-snug sl-font-prose sl-font-semibold sl-text-heading" id="two-ways-to-initiate-the-connection-with-your-app"><a class="sl-link sl-link-heading__link sl-inline-flex sl-items-center sl-text-current" href="#two-ways-to-initiate-the-connection-with-your-app"><div>Two ways to initiate the connection with your app</div><div class="sl-link-heading__icon sl-text-base sl-ml-4 sl-text-muted"><i aria-hidden="true" class="sl-icon fal fa-link" role="img"></i></div></a></h3>
<p>There are 2 ways a user can initiate the connection:</p>
<p><strong>One-click OAuth initiated in Hospitable by a logged-in user</strong></p>
<p>Once you have enabled OAuth, we will publish a dedicated page for your product in our <a href="https://my.hospitable.com/apps" rel="noreferrer" target="_blank">Apps marketplace</a>. A logged in user will be able to initiate the connection through a Get Started button on this page.</p>
<p>This redirects them directly to your configured redirect URL with an authorization <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">code</code> added as a parameter to the URL. This eliminates the step where they have to be brought to a new page where they click to authorize the connection.</p>
<p><strong>Standard OAuth flow initiated by your customer from your app</strong></p>
<p>This is initiated in your app. You must bring the user to the Hospitable Authorization page, where they will be asked to login and then click to authorize the connection.</p>
<hr/>
<h3 class="sl-link-heading sl-text-2xl sl-leading-snug sl-font-prose sl-font-semibold sl-text-heading" id="1-setting-your-redirect-url"><a class="sl-link sl-link-heading__link sl-inline-flex sl-items-center sl-text-current" href="#1-setting-your-redirect-url"><div>1. Setting your redirect URL</div><div class="sl-link-heading__icon sl-text-base sl-ml-4 sl-text-muted"><i aria-hidden="true" class="sl-icon fal fa-link" role="img"></i></div></a></h3>
<p>When you create your client credentials in the Partner Portal, you will be able to configure the redirect URL, where we will send your customers after they have authorized the connection between your app and their Hospitable account.</p>
<p>By default, this URL is used for both methods described above. If you wish to set a different URL for the one-click connection, let our team know and we can configure that for you.</p>
<p>You also have the option to set a custom URL for the one-click connection. We will not pass the authorization code, which means the user will simply be brought to your site, and you will need to navigate them at some point to the Hospitable Authorization page, following the standard flow. The custom URL supports state so you can associate the request with the user.</p>
<h3 class="sl-link-heading sl-text-2xl sl-leading-snug sl-font-prose sl-font-semibold sl-text-heading" id="2-setting-up-the-oauth-flow"><a class="sl-link sl-link-heading__link sl-inline-flex sl-items-center sl-text-current" href="#2-setting-up-the-oauth-flow"><div>2. Setting up the OAuth flow</div><div class="sl-link-heading__icon sl-text-base sl-ml-4 sl-text-muted"><i aria-hidden="true" class="sl-icon fal fa-link" role="img"></i></div></a></h3>
<h4 class="sl-link-heading sl-text-paragraph sl-leading-snug sl-font-prose sl-font-semibold sl-text-heading" id="a-lead-the-user-to-authorize-the-connection"><a class="sl-link sl-link-heading__link sl-inline-flex sl-items-center sl-text-current" href="#a-lead-the-user-to-authorize-the-connection"><div>a. Lead the user to authorize the connection</div><div class="sl-link-heading__icon sl-text-base sl-ml-4 sl-text-muted"><i aria-hidden="true" class="sl-icon fal fa-link" role="img"></i></div></a></h4>
<blockquote class="sl-callout sl-w-full sl-pb-1 sl-bg-primary sl-rounded-xl" role="alert"><div class="sl-stack sl-stack--horizontal sl-stack--3 sl-flex sl-flex-row sl-items-start sl-pt-4 sl-pr-10 sl-pb-4 sl-pl-4 sl-bg-canvas-pure sl-rounded-xl sl-border-primary sl-border-2"><div class="sl-mt-px"><div data-testid="icon"><i aria-hidden="true" class="sl-icon fal fa-info-circle fa-lg" role="img" style="color: rgb(26, 171, 255);"></i></div></div><div class="sl-stack sl-flex sl-flex-1 sl-flex-col sl-items-stretch">
<p>This step is skipped if the customer initiates the connection from Hospitable's side using the One-click OAuth. Upon redirect to your page, we will pass the code which you can already use to request for the tokens in step by step.</p>
</div></div></blockquote>
<p>You will need to create a button or link within your app that redirects your user to the Hospitable Authorization page:</p>
<pre class="sl-code-viewer sl-grid sl-inverted sl-overflow-x-hidden sl-overflow-y-hidden sl-relative sl-bg-canvas sl-outline-none sl-rounded-lg focus:sl-ring sl-ring-primary sl-ring-opacity-50 sl-group" role="group" tabindex="0"><div class="sl-code-viewer__scroller sl-overflow-x-auto sl-overflow-y-auto" style="max-height: 500px;"><div class="sl-code-highlight prism-code language-text" style="padding: 12px 15px; font-family: var(--font-code); font-size: var(--fs-code); line-height: var(--lh-code);"><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">https://auth.hospitable.com/oauth/authorize?client_id=&lt;your vendor id&gt;&amp;response_type=code</span></div></div></div></div><div class="sl-absolute sl-right-0 sl-pr-2 sl-invisible group-hover:sl-visible sl-invisible" data-testid="copy-button" style="top: 9px;"><button class="sl-button sl-form-group-border sl-h-sm sl-text-base sl-font-medium sl-px-1.5 hover:sl-bg-canvas-50 active:sl-bg-canvas-100 sl-text-muted hover:sl-text-body focus:sl-text-body sl-rounded sl-border-transparent sl-border disabled:sl-opacity-70" type="button"><div class="sl-mx-0"><i aria-hidden="true" class="sl-icon fal fa-copy fa-fw fa-sm" role="img"></i></div></button></div></pre>
<p>The <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">response_type=code</code> tells the authorization server that the application is initiating the authorization code flow which is an <a href="https://developer.okta.com/blog/2018/04/10/oauth-authorization-code-grant-type" rel="noreferrer" target="_blank">OAuth 2.0 grant type</a>. Note: the <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">code</code> is a string, and not a placeholder to be replaced with any value.</p>
<blockquote class="sl-callout sl-w-full sl-pb-1 sl-bg-primary sl-rounded-xl" role="alert"><div class="sl-stack sl-stack--horizontal sl-stack--3 sl-flex sl-flex-row sl-items-start sl-pt-4 sl-pr-10 sl-pb-4 sl-pl-4 sl-bg-canvas-pure sl-rounded-xl sl-border-primary sl-border-2"><div class="sl-mt-px"><div data-testid="icon"><i aria-hidden="true" class="sl-icon fal fa-info-circle fa-lg" role="img" style="color: rgb(26, 171, 255);"></i></div></div><div class="sl-stack sl-flex sl-flex-1 sl-flex-col sl-items-stretch">
<p>üí° Use the state parameter to associate an authorization request to a customer</p>
<p>You can optionally add the <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">?state=&lt;string&gt;</code> parameter to the authorization URL which, in addition to adding a layer of security, allows you to identify the source of the request, e.g. identify the customer that just completed the flow.
The <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">state</code> value will passed back to you by adding it to your the redirect URL, which you can compare with the value you stored earlier.</p>
<p><a href="https://auth0.com/docs/secure/attack-protection/state-parameters" rel="noreferrer" target="_blank">Learn more about it here.</a></p>
</div></div></blockquote>
<p>The Hospitable Authorization page will initially present them with a login page. (this will always be presented as long as they initiated from your page, even if they were already logged in to Hospitable in the same browser session). After providing their credentials, they will be asked to Authorize the connection with your app.</p>
<h4 class="sl-link-heading sl-text-paragraph sl-leading-snug sl-font-prose sl-font-semibold sl-text-heading" id="b-handle-the-redirect"><a class="sl-link sl-link-heading__link sl-inline-flex sl-items-center sl-text-current" href="#b-handle-the-redirect"><div>b. Handle the redirect</div><div class="sl-link-heading__icon sl-text-base sl-ml-4 sl-text-muted"><i aria-hidden="true" class="sl-icon fal fa-link" role="img"></i></div></a></h4>
<p>When the user clicks "Authorize" they'll be redirected to the URL that you configured in the Partner Portal. There will be an authorization <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">code</code> added as a parameter to the URL.</p>
<div class="sl-code-viewer sl-grid sl-inverted sl-overflow-x-hidden sl-overflow-y-hidden sl-relative sl-bg-canvas sl-outline-none sl-rounded-lg focus:sl-ring sl-ring-primary sl-ring-opacity-50 sl-group" role="group" tabindex="0"><div class="sl-code-viewer__scroller sl-overflow-x-auto sl-overflow-y-auto" style="max-height: 500px;"><div class="sl-code-highlight prism-code language-undefined" style="padding: 12px 15px; font-family: var(--font-code); font-size: var(--fs-code); line-height: var(--lh-code);"><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">https://not-hospitable.com/redirect?code=def2020087...</span></div></div></div></div><div class="sl-absolute sl-right-0 sl-pr-2 sl-invisible group-hover:sl-visible sl-invisible" data-testid="copy-button" style="top: 9px;"><button class="sl-button sl-form-group-border sl-h-sm sl-text-base sl-font-medium sl-px-1.5 hover:sl-bg-canvas-50 active:sl-bg-canvas-100 sl-text-muted hover:sl-text-body focus:sl-text-body sl-rounded sl-border-transparent sl-border disabled:sl-opacity-70" type="button"><div class="sl-mx-0"><i aria-hidden="true" class="sl-icon fal fa-copy fa-fw fa-sm" role="img"></i></div></button></div></div>
<p>This will also include the <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">state</code> if you had provide that earlier.</p>
<h4 class="sl-link-heading sl-text-paragraph sl-leading-snug sl-font-prose sl-font-semibold sl-text-heading" id="c-request-for-the-access-token"><a class="sl-link sl-link-heading__link sl-inline-flex sl-items-center sl-text-current" href="#c-request-for-the-access-token"><div>c. Request for the access token</div><div class="sl-link-heading__icon sl-text-base sl-ml-4 sl-text-muted"><i aria-hidden="true" class="sl-icon fal fa-link" role="img"></i></div></a></h4>
<p>Make a request to our OAuth2 server at <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">https://auth.hospitable.com/oauth/token</code>, providing your client credentials, <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">"authorization_code"</code> grant type and the provided <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">code</code> from the redirection.</p>
<p>The request should look like this:</p>
<pre class="sl-code-viewer sl-grid sl-inverted sl-overflow-x-hidden sl-overflow-y-hidden sl-relative sl-bg-canvas sl-outline-none sl-rounded-lg focus:sl-ring sl-ring-primary sl-ring-opacity-50 sl-group" role="group" tabindex="0"><div class="sl-code-viewer__scroller sl-overflow-x-auto sl-overflow-y-auto" style="max-height: 500px;"><div class="sl-code-highlight prism-code language-text" style="padding: 12px 15px; font-family: var(--font-code); font-size: var(--fs-code); line-height: var(--lh-code);"><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">curl --request POST \</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  --url https://auth.hospitable.com/oauth/token \</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  --header 'Content-Type: application/json' \</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  --data '{</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  "client_id": "&lt;your vendor id&gt;", </span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  "client_secret": "&lt;your vendor secret&gt;", </span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  "grant_type": "authorization_code",</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  "code": "def5020087..."</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">}'</span></div></div></div></div><div class="sl-absolute sl-right-0 sl-pr-2 sl-invisible group-hover:sl-visible sl-invisible" data-testid="copy-button" style="top: 9px;"><button class="sl-button sl-form-group-border sl-h-sm sl-text-base sl-font-medium sl-px-1.5 hover:sl-bg-canvas-50 active:sl-bg-canvas-100 sl-text-muted hover:sl-text-body focus:sl-text-body sl-rounded sl-border-transparent sl-border disabled:sl-opacity-70" type="button"><div class="sl-mx-0"><i aria-hidden="true" class="sl-icon fal fa-copy fa-fw fa-sm" role="img"></i></div></button></div></pre>
<p>With a response of:</p>
<pre class="sl-code-viewer sl-grid sl-inverted sl-overflow-x-hidden sl-overflow-y-hidden sl-relative sl-bg-canvas sl-outline-none sl-rounded-lg focus:sl-ring sl-ring-primary sl-ring-opacity-50 sl-group" role="group" tabindex="0"><div class="sl-code-viewer__scroller sl-overflow-x-auto sl-overflow-y-auto" style="max-height: 500px;"><div class="sl-code-highlight prism-code language-text" style="padding: 12px 15px; font-family: var(--font-code); font-size: var(--fs-code); line-height: var(--lh-code);"><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">{</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  "token_type": "Bearer",</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  "expires_in": 43200,</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  "access_token": "eyJ0eXA...",</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  "refresh_token": "def502005..."</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">}</span></div></div></div></div><div class="sl-absolute sl-right-0 sl-pr-2 sl-invisible group-hover:sl-visible sl-invisible" data-testid="copy-button" style="top: 9px;"><button class="sl-button sl-form-group-border sl-h-sm sl-text-base sl-font-medium sl-px-1.5 hover:sl-bg-canvas-50 active:sl-bg-canvas-100 sl-text-muted hover:sl-text-body focus:sl-text-body sl-rounded sl-border-transparent sl-border disabled:sl-opacity-70" type="button"><div class="sl-mx-0"><i aria-hidden="true" class="sl-icon fal fa-copy fa-fw fa-sm" role="img"></i></div></button></div></pre>
<p>Once you have the <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">access_token</code>, you can start making API requests on behalf of the user by including it in the Authorization header of each request:</p>
<pre class="sl-code-viewer sl-grid sl-inverted sl-overflow-x-hidden sl-overflow-y-hidden sl-relative sl-bg-canvas sl-outline-none sl-rounded-lg focus:sl-ring sl-ring-primary sl-ring-opacity-50 sl-group" role="group" tabindex="0"><div class="sl-code-viewer__scroller sl-overflow-x-auto sl-overflow-y-auto" style="max-height: 500px;"><div class="sl-code-highlight prism-code language-text" style="padding: 12px 15px; font-family: var(--font-code); font-size: var(--fs-code); line-height: var(--lh-code);"><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">curl --request GET \</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  --url https://public.api.hospitable.com/properties \</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">	--header 'Authorization: Bearer &lt;token&gt;'</span></div></div></div></div><div class="sl-absolute sl-right-0 sl-pr-2 sl-invisible group-hover:sl-visible sl-invisible" data-testid="copy-button" style="top: 9px;"><button class="sl-button sl-form-group-border sl-h-sm sl-text-base sl-font-medium sl-px-1.5 hover:sl-bg-canvas-50 active:sl-bg-canvas-100 sl-text-muted hover:sl-text-body focus:sl-text-body sl-rounded sl-border-transparent sl-border disabled:sl-opacity-70" type="button"><div class="sl-mx-0"><i aria-hidden="true" class="sl-icon fal fa-copy fa-fw fa-sm" role="img"></i></div></button></div></pre>
<blockquote class="sl-callout sl-w-full sl-pb-1 sl-bg-primary sl-rounded-xl" role="alert"><div class="sl-stack sl-stack--horizontal sl-stack--3 sl-flex sl-flex-row sl-items-start sl-pt-4 sl-pr-10 sl-pb-4 sl-pl-4 sl-bg-canvas-pure sl-rounded-xl sl-border-primary sl-border-2"><div class="sl-mt-px"><div data-testid="icon"><i aria-hidden="true" class="sl-icon fal fa-info-circle fa-lg" role="img" style="color: rgb(26, 171, 255);"></i></div></div><div class="sl-stack sl-flex sl-flex-1 sl-flex-col sl-items-stretch">
<p>üöß <strong>Token validity</strong></p>
<p>The <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">access_token</code> expires after 12 hours. You will need to request for new access tokens using the <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">refresh_token</code>.</p>
<p>üìò <strong>Check your database columns!</strong></p>
<p>Tokens are quite large! Access tokens ~1,200 chars and Refresh tokens ~1,000 chars respectively. If your database columns aren't configured correctly, you might experience unexpected issues with accessing the API, or refreshing due to truncation.</p>
</div></div></blockquote>
<h3 class="sl-link-heading sl-text-2xl sl-leading-snug sl-font-prose sl-font-semibold sl-text-heading" id="refreshing-your-access-tokens"><a class="sl-link sl-link-heading__link sl-inline-flex sl-items-center sl-text-current" href="#refreshing-your-access-tokens"><div>Refreshing your access tokens</div><div class="sl-link-heading__icon sl-text-base sl-ml-4 sl-text-muted"><i aria-hidden="true" class="sl-icon fal fa-link" role="img"></i></div></a></h3>
<p>When the access token expires, you'll receive a <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">401 Unauthenticated</code> error from your API requests. To resolve this, you'll need to refresh your access using the <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">refresh_token</code> that was also provided in the authorization response.</p>
<p>The refresh request looks like this:</p>
<pre class="sl-code-viewer sl-grid sl-inverted sl-overflow-x-hidden sl-overflow-y-hidden sl-relative sl-bg-canvas sl-outline-none sl-rounded-lg focus:sl-ring sl-ring-primary sl-ring-opacity-50 sl-group" role="group" tabindex="0"><div class="sl-code-viewer__scroller sl-overflow-x-auto sl-overflow-y-auto" style="max-height: 500px;"><div class="sl-code-highlight prism-code language-text" style="padding: 12px 15px; font-family: var(--font-code); font-size: var(--fs-code); line-height: var(--lh-code);"><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">curl --request POST \</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  --url https://auth.hospitable.com/oauth/token \</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  --header 'Content-Type: application/json' \</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  --data '{</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  "client_id": "&lt;your vendor id&gt;", </span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  "client_secret": "&lt;your vendor secret&gt;", </span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  "grant_type": "refresh_token",</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  "refresh_token": "&lt;the refresh token&gt;"</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">}'</span></div></div></div></div><div class="sl-absolute sl-right-0 sl-pr-2 sl-invisible group-hover:sl-visible sl-invisible" data-testid="copy-button" style="top: 9px;"><button class="sl-button sl-form-group-border sl-h-sm sl-text-base sl-font-medium sl-px-1.5 hover:sl-bg-canvas-50 active:sl-bg-canvas-100 sl-text-muted hover:sl-text-body focus:sl-text-body sl-rounded sl-border-transparent sl-border disabled:sl-opacity-70" type="button"><div class="sl-mx-0"><i aria-hidden="true" class="sl-icon fal fa-copy fa-fw fa-sm" role="img"></i></div></button></div></pre>
<p>This will provide a response identical step 3 when you first requested the tokens. The response will provide you with a new set of access_token and refresh_token.</p>
<blockquote class="sl-callout sl-w-full sl-pb-1 sl-bg-primary sl-rounded-xl" role="alert"><div class="sl-stack sl-stack--horizontal sl-stack--3 sl-flex sl-flex-row sl-items-start sl-pt-4 sl-pr-10 sl-pb-4 sl-pl-4 sl-bg-canvas-pure sl-rounded-xl sl-border-primary sl-border-2"><div class="sl-mt-px"><div data-testid="icon"><i aria-hidden="true" class="sl-icon fal fa-info-circle fa-lg" role="img" style="color: rgb(26, 171, 255);"></i></div></div><div class="sl-stack sl-flex sl-flex-1 sl-flex-col sl-items-stretch">
<p>üöß Refresh tokens expire!</p>
<p>If your integration doesn't refresh Access Tokens immediately after expiry (which is common in some use cases where you may not need constant API access), you'll need to be careful - <strong>Refresh Tokens expire after 90 days</strong>. We recommend refreshing all tokens on a regular interval to ensure Hosts don't need to keep re-authorising your application.</p>
</div></div></blockquote>
<hr/>
<h2 class="sl-link-heading sl-text-4xl sl-leading-tight sl-font-prose sl-font-bold sl-text-heading" id="personal-access-tokens-for-hospitable-users"><a class="sl-link sl-link-heading__link sl-inline-flex sl-items-center sl-text-current" href="#personal-access-tokens-for-hospitable-users"><div>Personal Access Tokens for Hospitable users</div><div class="sl-link-heading__icon sl-text-base sl-ml-4 sl-text-muted"><i aria-hidden="true" class="sl-icon fal fa-link" role="img"></i></div></a></h2>
<p>If you're just trying to play around with your Hospitable account programatically, or have an existing system built to automate your workflows, you can use Personal Access Tokens which provides the same access to endpoints as vendors.</p>
<blockquote class="sl-callout sl-w-full sl-pb-1 sl-bg-primary sl-rounded-xl" role="alert"><div class="sl-stack sl-stack--horizontal sl-stack--3 sl-flex sl-flex-row sl-items-start sl-pt-4 sl-pr-10 sl-pb-4 sl-pl-4 sl-bg-canvas-pure sl-rounded-xl sl-border-primary sl-border-2"><div class="sl-mt-px"><div data-testid="icon"><i aria-hidden="true" class="sl-icon fal fa-info-circle fa-lg" role="img" style="color: rgb(26, 171, 255);"></i></div></div><div class="sl-stack sl-flex sl-flex-1 sl-flex-col sl-items-stretch">
<p>üìò Choose the right grant!</p>
<p>If you're building a Hospitable integration to be used by others, you will need to use our <a href="#oauth-authorization-for-vendors">OAuth2 Authorization flow</a>. We do not recommend storing other users' Personal Access Tokens.</p>
</div></div></blockquote>
<p>To get started with Personal Access Tokens, start by logging into your Hospitable account and visiting your <a href="https://my.hospitable.com/apps/api-keys" rel="noreferrer" target="_blank">API keys</a> section in the apps settings.</p>
<p>Once there, you can create and manage your Personal Access Tokens. Click "+ Add new" in the top right to create a new one, giving it any name you'd like:</p>
<figure><div class="sl-product-image sl-overflow-x-hidden sl-overflow-y-hidden sl-rounded-xl sl-border-body sl-border-2 hover:sl-shadow sl-cursor-zoom-in sl-transform sl-duration-300 hover:sl-translate-x-2 hover:sl--translate-y-2" style="--shadow-md: -8px 8px 0 0 var(--color-text);"><img alt="" class="sl-image sl-overflow-x-hidden sl-overflow-y-hidden sl-mx-auto sl-bg-canvas-pure sl-border-body" src="https://files.readme.io/a2b24de-image.png"/></div></figure>
<p>This is the only step required to gain authentication for your account. Now, any requests you make to our API should include the <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">Authorization</code> header, with <code class="sl-font-mono sl-font-medium sl-mx-0.5 sl-px-1 sl-py-0.5 sl-bg-code sl-text-on-code sl-rounded sl-border" style="font-size: 0.8125em;">Bearer &lt;token&gt;</code> as the value.</p>
<pre class="sl-code-viewer sl-grid sl-inverted sl-overflow-x-hidden sl-overflow-y-hidden sl-relative sl-bg-canvas sl-outline-none sl-rounded-lg focus:sl-ring sl-ring-primary sl-ring-opacity-50 sl-group" role="group" tabindex="0"><div class="sl-code-viewer__scroller sl-overflow-x-auto sl-overflow-y-auto" style="max-height: 500px;"><div class="sl-code-highlight prism-code language-text" style="padding: 12px 15px; font-family: var(--font-code); font-size: var(--fs-code); line-height: var(--lh-code);"><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">curl --request GET \</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  --url https://public.api.hospitable.com/v2/properties \</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  --header 'Accept: application/json' \</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  --header 'Authorization: Bearer &lt;token&gt;' \</span></div></div><div class="sl-flex"><div class="sl-flex-1 sl-break-all"><span class="token plain">  --header 'Content-Type: '</span></div></div></div></div><div class="sl-absolute sl-right-0 sl-pr-2 sl-invisible group-hover:sl-visible sl-invisible" data-testid="copy-button" style="top: 9px;"><button class="sl-button sl-form-group-border sl-h-sm sl-text-base sl-font-medium sl-px-1.5 hover:sl-bg-canvas-50 active:sl-bg-canvas-100 sl-text-muted hover:sl-text-body focus:sl-text-body sl-rounded sl-border-transparent sl-border disabled:sl-opacity-70" type="button"><div class="sl-mx-0"><i aria-hidden="true" class="sl-icon fal fa-copy fa-fw fa-sm" role="img"></i></div></button></div></pre></div><div class="sl-markdown-viewer-toc sl-w-60 sl-pl-16"><div class="sl-sticky sl-top-0"><div class="sl-overflow-y-auto sl-absolute sl-w-full sl-h-screen"><div class="sl-py-8"><a class="sl-block sl-text-sm sl-font-medium sl-truncate sl-py-1 sl-pr-2 sl-pl-4 sl-text-primary hover:sl-text-primary-dark sl-border-primary sl-border-l-2" href="#authentication" title="Authentication">Authentication</a><a class="sl-block sl-text-sm sl-font-medium sl-truncate sl-py-1 sl-pr-2 sl-pl-6 sl-text-muted hover:sl-text-primary-dark sl-border-light sl-border-l-2" href="#what-authentication-should-i-use" title="What Authentication should I use?">What Authentication should I use?</a><a class="sl-block sl-text-sm sl-font-medium sl-truncate sl-py-1 sl-pr-2 sl-pl-4 sl-text-muted hover:sl-text-primary-dark sl-border-light sl-border-l-2" href="#oauth-authorization-for-vendors" title="OAuth Authorization for Vendors">OAuth Authorization for Vendors</a><a class="sl-block sl-text-sm sl-font-medium sl-truncate sl-py-1 sl-pr-2 sl-pl-6 sl-text-muted hover:sl-text-primary-dark sl-border-light sl-border-l-2" href="#two-ways-to-initiate-the-connection-with-your-app" title="Two ways to initiate the connection with your app">Two ways to initiate the connection with your app</a><a class="sl-block sl-text-sm sl-font-medium sl-truncate sl-py-1 sl-pr-2 sl-pl-6 sl-text-muted hover:sl-text-primary-dark sl-border-light sl-border-l-2" href="#1-setting-your-redirect-url" title="1. Setting your redirect URL">1. Setting your redirect URL</a><a class="sl-block sl-text-sm sl-font-medium sl-truncate sl-py-1 sl-pr-2 sl-pl-6 sl-text-muted hover:sl-text-primary-dark sl-border-light sl-border-l-2" href="#2-setting-up-the-oauth-flow" title="2. Setting up the OAuth flow">2. Setting up the OAuth flow</a><a class="sl-block sl-text-sm sl-font-medium sl-truncate sl-py-1 sl-pr-2 sl-pl-6 sl-text-muted hover:sl-text-primary-dark sl-border-light sl-border-l-2" href="#refreshing-your-access-tokens" title="Refreshing your access tokens">Refreshing your access tokens</a><a class="sl-block sl-text-sm sl-font-medium sl-truncate sl-py-1 sl-pr-2 sl-pl-4 sl-text-muted hover:sl-text-primary-dark sl-border-light sl-border-l-2" href="#personal-access-tokens-for-hospitable-users" title="Personal Access Tokens for Hospitable users">Personal Access Tokens for Hospitable users</a></div></div></div></div></div></div></div>